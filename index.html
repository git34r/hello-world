<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: white;
            width: 100%;
            height: 100vh;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #adminHeader {
            position: fixed;
            top: 0;
            left: 0;
            padding: 20px;
            z-index: 10;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        #adminHeader .nav-item,
        #adminHeader h1 {
            color: #0071e3;
            text-decoration: underline;
            font-size: 28px;
            font-weight: 400;
            letter-spacing: 3px;
            margin: 0;
            display: inline-block;
            transform: scaleX(1.5);
            transform-origin: left center;
        }

        .image-center {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .image-center img {
            max-width: 60vw;
            max-height: 60vh;
            height: auto;
            display: block;
        }

        /* Desktop-style folder */
        .desktop-folder {
            position: fixed;
            top: 140px;
            left: 40px;
            width: 80px;
            cursor: move;
            user-select: none;
            z-index: 20;
            text-align: center;
            font-size: 12px;
            color: #333;
        }

        .desktop-folder-icon {
            width: 64px;
            height: 48px;
            margin: 0 auto 6px;
            position: relative;
        }

        /* Image-style desktop icon (used for vape icon) */
        .desktop-folder-icon--image {
            width: 80px;
            height: 80px;
            margin: 0 auto 6px;
        }

        .desktop-folder-icon--image::before,
        .desktop-folder-icon--image::after {
            content: none;
        }

        .desktop-folder-icon--image img {
            width: 80px;
            height: 80px;
            display: block;
            object-fit: contain;
            image-rendering: pixelated;
            margin: 0 auto;
            -webkit-user-drag: none;
            user-select: none;
        }

        /* back part (smaller, behind) */
        .desktop-folder-icon::before {
            content: "";
            position: absolute;
            top: -7px;
            left: 6px;
            width: 40px;
            height: 26px;
            border-radius: 8px;
            background: linear-gradient(135deg, #9cc3ff, #5f99ff);
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.18);
            z-index: 0;
        }

        /* front part (bigger main folder body) */
        .desktop-folder-icon::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 64px;
            height: 44px;
            border-radius: 10px;
            background: linear-gradient(135deg, #8ab4ff, #4f8cff);
            box-shadow:
                0 4px 8px rgba(0, 0, 0, 0.18),
                inset 0 -4px 6px rgba(0, 0, 0, 0.12);
            z-index: 1;
        }

        .desktop-folder-label {
            padding: 2px 4px;
        }

        /* Vapemodel window layout */
        .vape-videos {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .vape-video-block {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .vape-video-title {
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.16em;
            color: #9ca3af;
        }

        .vape-video-frame {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.35);
        }

        .vape-video-frame iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
            border-radius: 12px;
        }

        /* Window */
        .window {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: min(420px, 80vw);
            max-height: 80vh;
            background: #ffffff;
            border-radius: 12px;
            box-shadow:
                0 22px 65px rgba(0, 0, 0, 0.35),
                0 0 0 1px rgba(0, 0, 0, 0.06);
            overflow: hidden;
            z-index: 30;
            display: none;
        }

        .window-body {
            padding: 16px 18px 18px;
            font-size: 14px;
            color: #3a3a3c;
            overflow-y: auto;
            max-height: calc(80vh - 40px);
        }

        .graphics-section {
            margin-bottom: 14px;
        }

        .graphics-section-title {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.16em;
            color: #9ca3af;
            margin-bottom: 6px;
        }

        .graphics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
            gap: 8px;
        }

        .graphics-tile {
            display: flex;
            flex-direction: column;
            gap: 4px;
            font-size: 10px;
            cursor: pointer;
        }

        .graphics-tile img {
            width: 100%;
            border-radius: 6px;
            display: block;
        }

        .graphics-tile iframe {
            width: 100%;
            aspect-ratio: 9 / 16;
            border-radius: 6px;
            border: none;
            display: block;
            pointer-events: none; /* clicks go to tile for expand */
        }

        .graphics-label {
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: #6b7280;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Fullscreen preview overlay */
        .graphics-preview-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.55);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease-out;
        }

        .graphics-preview-overlay.is-visible {
            opacity: 1;
            pointer-events: auto;
        }

        .graphics-preview-inner {
            background: #ffffff;
            border-radius: 16px;
            padding: 18px 18px 16px;
            max-width: min(640px, 90vw);
            max-height: 80vh;
            box-shadow:
                0 22px 65px rgba(0, 0, 0, 0.45),
                0 0 0 1px rgba(0, 0, 0, 0.08);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .graphics-preview-inner.is-image {
            max-width: min(720px, 90vw);
        }

        .graphics-preview-inner.is-video {
            max-width: min(420px, 70vw);
        }

        .graphics-preview-title-notch {
            align-self: center;
            padding: 4px 12px;
            border-radius: 999px;
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            font-size: 11px;
            letter-spacing: 0.14em;
            text-transform: uppercase;
            color: #4b5563;
            max-width: 100%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .graphics-preview-media {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .graphics-preview-media img {
            max-width: 100%;
            max-height: 60vh;
            border-radius: 10px;
            display: block;
        }

        .graphics-preview-media iframe {
            width: 100%;
            max-height: 60vh;
            border-radius: 10px;
            display: block;
            aspect-ratio: 9 / 16;
        }


        .window-header {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: linear-gradient(to bottom, #f5f5f7, #e5e5ea);
            border-bottom: 1px solid #d2d2d7;
            font-size: 12px;
            color: #1d1d1f;
            position: relative; /* allow centered title */
            cursor: grab; /* use as drag notch */
            -webkit-user-select: none;
            user-select: none;
        }

        .window-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            position: relative;
        }

        .window-dot--close {
            background: #ff5f57;
        }

        /* Show a minus icon in the red button when hovering an open window */
        .window-dot--close::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 10px;
            line-height: 1;
            color: #7c1a16;
            opacity: 0;
            transition: opacity 0.15s ease-out;
        }

        .window:hover .window-dot--close::before {
            content: "−";
            opacity: 1;
        }

        .window-title {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .release-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .release-card {
            display: flex;
            gap: 10px;
            align-items: center;
            padding: 8px 10px;
            border-radius: 8px;
            background: #f5f5f7;
        }

        .release-year-label {
            margin-top: 4px;
            margin-bottom: 2px;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.18em;
            color: #9ca3af;
        }

        .release-cover {
            width: 42px;
            height: 42px;
            border-radius: 6px;
            background: linear-gradient(135deg, #111827, #4b5563);
            overflow: hidden;
            flex-shrink: 0;
        }

        .release-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .release-meta {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .release-title {
            font-size: 13px;
            font-weight: 600;
        }

        .release-type {
            font-size: 11px;
            color: #6b7280;
        }

        .release-meta a {
            font-size: 11px;
            color: #2563eb;
            text-decoration: none;
        }

        .release-meta a:hover {
            text-decoration: underline;
        }

        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 10px 20px;
            text-align: right;
            font-size: 12px;
            color: #4d4d4d; /* ~70% black */
        }

        /* Smokers break badge in bottom-left */
        .smokers-break {
            position: fixed;
            bottom: 12px;
            left: 16px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
            z-index: 25;
        }

        .smokers-break img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            image-rendering: pixelated;
        }

        .smokers-break-label {
            font-size: 10px;
            letter-spacing: 0.08em;
            text-transform: lowercase;
            color: #777;
        }

        /* Smoke overlay effect */
        .smoke-overlay {
            position: fixed;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background-image: linear-gradient(to top, rgba(80, 80, 80, 0.95), rgba(120, 120, 120, 0.7), rgba(200, 200, 200, 0.4), rgba(255, 255, 255, 0));
            mix-blend-mode: screen;
            opacity: 0;
            transform: translateY(40%);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            z-index: 40;
        }

        .smoke-overlay.is-active {
            opacity: 1;
            transform: translateY(0);
            animation: smoke-rise 10s ease-out forwards;
        }

        @keyframes smoke-rise {
            0% {
                opacity: 0;
                transform: translateY(40%);
            }
            15% {
                opacity: 1;
                transform: translateY(0);
            }
            70% {
                opacity: 1;
                transform: translateY(-5%);
            }
            100% {
                opacity: 0;
                transform: translateY(-15%);
            }
        }

        /* Tiny red squares used for snail trails */
        .jodi-square {
            position: fixed;
            width: 9px;
            height: 9px;
            background: #ff0000;
            z-index: 9999;
            pointer-events: none;
        }

        /* Snail control: tiny red "error pixel" wandering near lower-right area */
        .snail-control {
            position: fixed;
            width: 7px;
            height: 7px;
            z-index: 10000;
            cursor: pointer;
            user-select: none;
        }

        .snail-control-square {
            width: 7px;
            height: 7px;
            background: #ff0000;
        }

        /* Wandering green waterdrop square */
        .green-drop {
            position: fixed;
            width: 12px;
            height: 12px;
            background: #22c55e;
            border-radius: 0;
            z-index: 9500;
            cursor: pointer;
            transition: opacity 0.25s ease-out, transform 0.25s ease-out;
        }

        .green-drop.is-hidden {
            opacity: 0;
            transform: scale(0.4);
            pointer-events: none;
        }

        .green-drop-ripple {
            position: fixed;
            width: 12px;
            height: 12px;
            background: #22c55e;
            pointer-events: none;
            opacity: 0;
            animation: greenPixelRipple 0.5s ease-out forwards;
        }

        @keyframes greenPixelRipple {
            0% {
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            80% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }

        /* Pixel painting tool: blue pixel pyramid on the right that opens a full-page overlay */
        .paint-tool {
            position: fixed;
            right: 32px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 9000;
        }

        .paint-pyramid {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .paint-pyramid-row {
            display: flex;
            gap: 4px;
        }

        .paint-toggle,
        .paint-button {
            width: 16px;
            height: 16px;
            border-radius: 0;
            border: 1px solid #0071e3;
            background: #0071e3;
            cursor: pointer;
            padding: 0;
        }

        .paint-toggle:hover,
        .paint-button:hover {
            background: #2f8fff;
        }

        .paint-toggle[aria-pressed="true"] {
            background: #004fa8;
        }

        .paint-overlay {
            position: fixed;
            inset: 0;
            z-index: 8000;
            display: none;
        }

        .paint-overlay.is-active {
            display: block;
        }

        .paint-canvas {
            width: 100vw;
            height: 100vh;
            border: none;
            background: transparent;
            image-rendering: pixelated;
            cursor: crosshair;
            display: block;
        }


        .paint-button:active {
            background: #004fa8;
        }
    </style>
</head>
<body>
    <div id="adminHeader">
        <h1>admin</h1>
    </div>

    <div class="image-center">
        <img src="https://raw.githubusercontent.com/git34r/hello-world/main/port/admin.png" alt="admin" />
    </div>

    <div class="desktop-folder" id="folderAdmin">
        <div class="desktop-folder-icon"></div>
        <div class="desktop-folder-label">Admin</div>
    </div>

    <div class="desktop-folder" id="folderMusic" style="top: 240px; left: 40px;">
        <div class="desktop-folder-icon"></div>
        <div class="desktop-folder-label">Music</div>
    </div>

    <div class="desktop-folder" id="folderGraphics" style="top: 340px; left: 40px;">
        <div class="desktop-folder-icon"></div>
        <div class="desktop-folder-label">Graphics</div>
    </div>

    <div class="desktop-folder" id="folderVape" style="top: 440px; left: 40px;">
        <div class="desktop-folder-icon--image">
            <img src="https://raw.githubusercontent.com/git34r/hello-world/main/port/vapeicon.gif" alt="Vape icon" draggable="false">
        </div>
        <div class="desktop-folder-label">vapemodel</div>
    </div>

    <div class="window" id="windowAdmin">
        <div class="window-header">
            <div class="window-dot window-dot--close" id="windowClose"></div>
            <div class="window-title">Admin Folder</div>
        </div>
        <div class="window-body">
            <div style="font-size: 13px; line-height: 1.5; color: #111; display: flex; justify-content: space-between; gap: 16px;">
                <div>
                    <div>name: pit</div>
                    <div>age: 23</div>
                    <div>email: admin@bonpit.com</div>
                </div>
                <div style="text-align: right; white-space: nowrap;">
                    <div style="margin-top: 4px;">
                        instagram:
                        <a href="https://www.instagram.com/bonpit_" target="_blank" rel="noopener noreferrer" style="color: #2563eb; text-decoration: underline;">bonpit_</a>
                    </div>
                    <div>
                        soundcloud:
                        <a href="https://soundcloud.com/bbonpit" target="_blank" rel="noopener noreferrer" style="color: #2563eb; text-decoration: underline;">bbonpit</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="window" id="windowMusic">
        <div class="window-header">
            <div class="window-dot window-dot--close" id="closeMusic"></div>
            <div class="window-title">Discography</div>
        </div>
        <div class="window-body">
            <div class="release-list">
                <div class="release-year-label">2025</div>

                <!-- Newest 2025 release first -->
                <div class="release-card">
                    <div class="release-cover">
                        <img src="covers/igvapemodels.jpg" alt="Igvapemodels cover">
                    </div>
                    <div class="release-meta">
                        <div class="release-title">Igvapemodels</div>
                        <div class="release-type">Track · Bonpit</div>
                        <a href="https://git34r.github.io/hello-world/igvapemodels.html" target="_blank" rel="noopener noreferrer">Buy / Download</a>
                    </div>
                </div>

                <div class="release-card">
                    <div class="release-cover">
                        <img src="covers/lost-in-time.jpg" alt="Lost In Time cover">
                    </div>
                    <div class="release-meta">
                        <div class="release-title">Lost In Time</div>
                        <div class="release-type">Track · Bonpit</div>
                        <a href="https://git34r.github.io/hello-world/lostintime.html" target="_blank" rel="noopener noreferrer">Buy / Download</a>
                    </div>
                </div>

                <div class="release-card">
                    <div class="release-cover">
                        <img src="covers/me-me-me.jpg" alt="me, me, me cover">
                    </div>
                    <div class="release-meta">
                        <div class="release-title">me, me, me</div>
                        <div class="release-type">Album · Bonpit</div>
                        <a href="https://bonpit.bandcamp.com/album/me-me-me" target="_blank" rel="noopener noreferrer">Open on Bandcamp</a>
                    </div>
                </div>

                <div class="release-year-label">2024</div>

                <!-- Latest 2024 tracks from SoundCloud on top -->
                <div class="release-card">
                    <div class="release-cover">
                        <img src="covers/sadsadsad.jpg" alt="SadSadSad cover">
                    </div>
                    <div class="release-meta">
                        <div class="release-title">SadSadSad</div>
                        <div class="release-type">Track · Bonpit</div>
                        <a href="https://soundcloud.com/bbonpit/sadsadsad" target="_blank" rel="noopener noreferrer">Open on SoundCloud</a>
                    </div>
                </div>

                <div class="release-card">
                    <div class="release-cover">
                        <img src="covers/4ever.jpg" alt="4Ever cover">
                    </div>
                    <div class="release-meta">
                        <div class="release-title">4Ever</div>
                        <div class="release-type">Track · Bonpit</div>
                        <a href="https://bonpit.bandcamp.com/track/4ever" target="_blank" rel="noopener noreferrer">Open on Bandcamp</a>
                    </div>
                </div>

                <div class="release-card">
                    <div class="release-cover">
                        <img src="covers/papi.jpg" alt="Papi cover">
                    </div>
                    <div class="release-meta">
                        <div class="release-title">Papi</div>
                        <div class="release-type">Track · Bonpit</div>
                        <a href="https://git34r.github.io/hello-world/papi.html" target="_blank" rel="noopener noreferrer">Buy / Download</a>
                    </div>
                </div>

                <div class="release-card">
                    <div class="release-cover">
                        <img src="covers/hipshots.jpg" alt="HIPSHOTS cover">
                    </div>
                    <div class="release-meta">
                        <div class="release-title">HIPSHOTS</div>
                        <div class="release-type">Album · Bonpit</div>
                        <a href="https://bonpit.bandcamp.com/album/hipshots" target="_blank" rel="noopener noreferrer">Open on Bandcamp</a>
                    </div>
                </div>

                <div class="release-year-label">2023</div>

                <div class="release-card">
                    <div class="release-cover">
                        <img src="covers/onetwothreefour.jpg" alt="Onetwothreefour cover">
                    </div>
                    <div class="release-meta">
                        <div class="release-title">Onetwothreefour</div>
                        <div class="release-type">Track · Bonpit</div>
                        <a href="https://soundcloud.com/bbonpit/onetwothreefour" target="_blank" rel="noopener noreferrer">Open on SoundCloud</a>
                    </div>
                </div>

                <div class="release-card">
                    <div class="release-cover">
                        <img src="covers/lev-me.jpg" alt="lëv me cover">
                    </div>
                    <div class="release-meta">
                        <div class="release-title">lëv me</div>
                        <div class="release-type">Track · Bonpit</div>
                        <a href="https://bonpit.bandcamp.com/track/l-v-me" target="_blank" rel="noopener noreferrer">Open on Bandcamp</a>
                    </div>
                </div>

                <div class="release-card">
                    <div class="release-cover">
                        <img src="covers/beau.jpg" alt="'*Beau*' cover">
                    </div>
                    <div class="release-meta">
                        <div class="release-title">'*Beau*'</div>
                        <div class="release-type">Album · Bonpit</div>
                        <a href="https://bonpit.bandcamp.com/album/beau-2" target="_blank" rel="noopener noreferrer">Open on Bandcamp</a>
                    </div>
                </div>

                <div class="release-card">
                    <div class="release-cover">
                        <img src="covers/1-5-fifteen-edit.jpg" alt="1-5 (Fifteen Edit) cover">
                    </div>
                    <div class="release-meta">
                        <div class="release-title">1-5 (Fifteen Edit)</div>
                        <div class="release-type">Track · Bonpit</div>
                        <a href="https://bonpit.bandcamp.com/track/1-5-fifteen-edit" target="_blank" rel="noopener noreferrer">Open on Bandcamp</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="window" id="windowGraphics">
        <div class="window-header">
            <div class="window-dot window-dot--close" id="closeGraphics"></div>
            <div class="window-title">Graphics Folder</div>
        </div>
        <div class="window-body">
            <div class="graphics-section">
                <div class="graphics-section-title">cover</div>
                <div id="graphicsGridCovers" class="graphics-grid"></div>
            </div>
            <div class="graphics-section">
                <div class="graphics-section-title">videos</div>
                <div id="graphicsGridVideos" class="graphics-grid"></div>
            </div>
        </div>
    </div>

    <div class="window" id="windowVape">
        <div class="window-header">
            <div class="window-dot window-dot--close" id="closeVape"></div>
            <div class="window-title">Vapemodel Stream</div>
        </div>
        <div class="window-body">
            <div class="vape-videos">
                <div class="vape-video-block">
                    <div class="vape-video-title">Part 1: Origin Story</div>
                    <div class="vape-video-frame">
                        <iframe
                            src="https://www.youtube.com/embed/rXvCHTzxc18"
                            title="Vapemodel Player - Shit I broke the Internet – Part 1"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            allowfullscreen
                        ></iframe>
                    </div>
                </div>
                <div class="vape-video-block">
                    <div class="vape-video-title">Part 2: Old Enough</div>
                    <div class="vape-video-frame">
                        <iframe
                            src="https://www.youtube.com/embed/k_qe5QTgbxI"
                            title="Vapemodel Player - Old Enough – Part 2"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            allowfullscreen
                        ></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="graphics-preview-overlay" id="graphicsPreview">
        <div class="graphics-preview-inner" id="graphicsPreviewInner">
            <div class="graphics-preview-title-notch">
                <span id="graphicsPreviewTitle"></span>
            </div>
            <div class="graphics-preview-media" id="graphicsPreviewMedia"></div>
        </div>
    </div>

    <div class="smokers-break">
        <img src="https://raw.githubusercontent.com/git34r/hello-world/main/port/smokerbreak.gif" alt="Smokers break" id="smokersBreakImage">
        <span class="smokers-break-label">smokers break</span>
    </div>

    <div class="smoke-overlay" id="smokeOverlay"></div>

    <div class="snail-control" id="snailControl">
        <div class="snail-control-square"></div>
    </div>

    <div class="green-drop" id="greenDrop"></div>

    <div class="paint-tool">
        <div class="paint-pyramid">
            <button
                type="button"
                class="paint-toggle"
                id="paintToggle"
                aria-pressed="false"
                title="Toggle pixel paint"
            ></button>
            <div class="paint-pyramid-row">
                <button type="button" class="paint-button" id="paintUndo" aria-label="Undo"></button>
                <button type="button" class="paint-button" id="paintRedo" aria-label="Redo"></button>
            </div>
        </div>
    </div>

    <div class="paint-overlay" id="paintOverlay">
        <canvas id="paintCanvas" class="paint-canvas" width="160" height="90"></canvas>
    </div>

    <div class="footer">
        ©2026 Pit
    </div>

    <script>
        (function () {
            function makeFolderInteractive(folderId, windowId, closeId) {
                const folder = document.getElementById(folderId);
                const win = document.getElementById(windowId);
                const closeBtn = document.getElementById(closeId);

                if (!folder || !win || !closeBtn) return;

                let isDragging = false;
                let offsetX = 0;
                let offsetY = 0;

                folder.addEventListener('mousedown', (e) => {
                    if (e.button !== 0) return;
                    isDragging = true;
                    const rect = folder.getBoundingClientRect();
                    offsetX = e.clientX - rect.left;
                    offsetY = e.clientY - rect.top;
                });

                window.addEventListener('mousemove', (e) => {
                    if (!isDragging) return;
                    e.preventDefault();
                    const x = e.clientX - offsetX;
                    const y = e.clientY - offsetY;
                    folder.style.left = x + 'px';
                    folder.style.top = y + 'px';
                });

                window.addEventListener('mouseup', () => {
                    isDragging = false;
                });

                folder.addEventListener('dblclick', () => {
                    win.style.display = 'block';
                });

                closeBtn.addEventListener('click', () => {
                    win.style.display = 'none';
                });
            }

            function makeWindowDraggable(windowId) {
                const win = document.getElementById(windowId);
                if (!win) return;

                const header = win.querySelector('.window-header');
                if (!header) return;

                let isDraggingWin = false;
                let offsetX = 0;
                let offsetY = 0;

                header.addEventListener('mousedown', (e) => {
                    if (e.button !== 0) return;
                    isDraggingWin = true;
                    header.style.cursor = 'grabbing';

                    const rect = win.getBoundingClientRect();
                    offsetX = e.clientX - rect.left;
                    offsetY = e.clientY - rect.top;

                    // Switch from centered transform to explicit position so dragging feels natural
                    win.style.transform = 'none';
                    win.style.left = rect.left + 'px';
                    win.style.top = rect.top + 'px';
                });

                window.addEventListener('mousemove', (e) => {
                    if (!isDraggingWin) return;
                    e.preventDefault();
                    const x = e.clientX - offsetX;
                    const y = e.clientY - offsetY;
                    win.style.left = x + 'px';
                    win.style.top = y + 'px';
                });

                window.addEventListener('mouseup', () => {
                    if (!isDraggingWin) return;
                    isDraggingWin = false;
                    header.style.cursor = 'grab';
                });
            }

            makeFolderInteractive('folderAdmin', 'windowAdmin', 'windowClose');
            makeFolderInteractive('folderMusic', 'windowMusic', 'closeMusic');
            makeFolderInteractive('folderGraphics', 'windowGraphics', 'closeGraphics');
            makeFolderInteractive('folderVape', 'windowVape', 'closeVape');

            makeWindowDraggable('windowAdmin');
            makeWindowDraggable('windowMusic');
            makeWindowDraggable('windowGraphics');
            makeWindowDraggable('windowVape');

            // Smokers break click → temporary smoke effect (10s)
            const smokersImg = document.getElementById('smokersBreakImage');
            const smokeOverlay = document.getElementById('smokeOverlay');
            if (smokersImg && smokeOverlay) {
                smokersImg.style.cursor = 'pointer';
                smokersImg.addEventListener('click', () => {
                    // restart animation if it's already running
                    smokeOverlay.classList.remove('is-active');
                    // force reflow to restart animation
                    void smokeOverlay.offsetWidth;
                    smokeOverlay.classList.add('is-active');

                    // ensure it’s fully removed after 10 seconds
                    setTimeout(() => {
                        smokeOverlay.classList.remove('is-active');
                    }, 10000);
                });
            }

            // Graphics folder: load images + labels from GitHub "port" folder (no admin/overlay)
            const graphicsGridCovers = document.getElementById('graphicsGridCovers');
            const graphicsGridVideos = document.getElementById('graphicsGridVideos');
            const previewOverlay = document.getElementById('graphicsPreview');
            const previewInner = document.getElementById('graphicsPreviewInner');
            const previewTitle = document.getElementById('graphicsPreviewTitle');
            const previewMedia = document.getElementById('graphicsPreviewMedia');

            if (previewOverlay) {
                previewOverlay.addEventListener('click', () => {
                    previewOverlay.classList.remove('is-visible');
                    if (previewMedia) {
                        previewMedia.innerHTML = '';
                    }
                    if (previewInner) {
                        previewInner.classList.remove('is-image', 'is-video');
                    }
                });
            }

            if (graphicsGridCovers && graphicsGridVideos && previewOverlay && previewInner && previewTitle && previewMedia) {
                const githubRepo = 'https://raw.githubusercontent.com/git34r/hello-world/main/port';
                const githubApi = 'https://api.github.com/repos/git34r/hello-world/contents/port';

                const vimeoVideos = [
                    { id: '1135590687', title: 'AW_EVENT01' },
                    { id: '1135590630', title: 'AW_EVENT02' },
                    { id: '1135590890', title: 'ONNYCHO_PACKSNRACK' },
                    { id: '1135590836', title: 'OBS_SINGLES' },
                    { id: '1135590791', title: 'OBSVA4' },
                    { id: '1135590728', title: 'OBSVA5' }
                ];

                function mapImageName(originalName) {
                    const nameMap = {
                        'bonpitdallaniel': 'BONPIT&DALLANIEL_IMB01',
                        'coveremilioeuphrat': 'EMILIOALBERT&EUPHRAT_MOURINGROUTINES',
                        'dallanielgrooveidcover': 'DALLANIEL_GROOVEID',
                        'dallaniel_grooveid': 'DALLANIEL_GROOVEID',
                        'dallanielukg': 'DALLANIEL_<3BEAT',
                        'emilioalbertmodalities': 'EMILIOALBERT_MODALITIES',
                        'modalities': 'EMILIOALBERT_MODALITIES',
                        'emilioalbert_modalities': 'EMILIOALBERT_MODALITIES',
                        'syndicate allstars': 'SYNDIKAET_ALLSTARS',
                        'syndicateallstars': 'SYNDIKAET_ALLSTARS',
                        'syndikaet': 'SYNDIKAET_ALLSTARS',
                        'syndikaet_allstars': 'SYNDIKAET_ALLSTARS',
                        'allstars': 'SYNDIKAET_ALLSTARS',
                        'individuation': 'DALLANIEL_INDIVIDUATION'
                    };

                    const nameWithoutExt = originalName.replace(/\.[^/.]+$/, '').toLowerCase();
                    const nameWithExt = originalName.toLowerCase();

                    let mapped = nameMap[nameWithoutExt] || nameMap[nameWithExt];

                    if (!mapped) {
                        const lowerName = nameWithoutExt;
                        if (lowerName.includes('modalities')) {
                            mapped = 'EMILIOALBERT_MODALITIES';
                        } else if (lowerName.includes('allstars') || lowerName.includes('syndikaet') || lowerName.includes('syndicate')) {
                            mapped = 'SYNDIKAET_ALLSTARS';
                        } else if (lowerName.includes('individuation')) {
                            mapped = 'DALLANIEL_INDIVIDUATION';
                        }
                    }

                    return mapped || originalName.toUpperCase();
                }

                function formatLabel(name) {
                    return mapImageName(name);
                }

                function attachExpandBehavior(tile, descriptor) {
                    tile.addEventListener('click', () => {
                        // build fullscreen preview
                        previewMedia.innerHTML = '';

                        if (previewInner) {
                            previewInner.classList.remove('is-image', 'is-video');
                            previewInner.classList.add(descriptor.type === 'video' ? 'is-video' : 'is-image');
                        }

                        if (descriptor.type === 'video') {
                            const iframe = document.createElement('iframe');
                            iframe.src = descriptor.src;
                            iframe.title = descriptor.title;
                            iframe.allow = 'autoplay; fullscreen; picture-in-picture';
                            iframe.setAttribute('allowfullscreen', '');
                            previewMedia.appendChild(iframe);
                        } else {
                            const img = new Image();
                            img.src = descriptor.src;
                            img.alt = descriptor.title;
                            previewMedia.appendChild(img);
                        }

                        previewTitle.textContent = descriptor.title;
                        previewOverlay.classList.add('is-visible');
                    });
                }

                function createGraphicsImageTile(item) {
                    const tile = document.createElement('div');
                    tile.className = 'graphics-tile';

                    const img = new Image();
                    img.src = item.path;
                    img.alt = item.label;
                    img.loading = 'lazy';

                    const labelText = formatLabel(item.label);

                    const label = document.createElement('span');
                    label.className = 'graphics-label';
                    label.textContent = labelText;

                    tile.appendChild(img);
                    tile.appendChild(label);

                    attachExpandBehavior(tile, {
                        type: 'image',
                        src: item.path,
                        title: labelText
                    });

                    return tile;
                }

                function createGraphicsVideoTile(video) {
                    const tile = document.createElement('div');
                    tile.className = 'graphics-tile';

                    const iframe = document.createElement('iframe');
                    iframe.src = `https://player.vimeo.com/video/${video.id}?background=1&autoplay=1&loop=1&muted=1&controls=0&title=0&byline=0&portrait=0&dnt=1`;
                    iframe.title = video.title;
                    iframe.allow = 'autoplay; fullscreen; picture-in-picture';
                    iframe.setAttribute('allowfullscreen', '');

                    const label = document.createElement('span');
                    label.className = 'graphics-label';
                    label.textContent = video.title;

                    tile.appendChild(iframe);
                    tile.appendChild(label);

                    attachExpandBehavior(tile, {
                        type: 'video',
                        src: `https://player.vimeo.com/video/${video.id}?background=1&autoplay=1&loop=1&muted=1&controls=0&title=0&byline=0&portrait=0&dnt=1`,
                        title: video.title
                    });

                    return tile;
                }

                async function loadGraphics() {
                    try {
                        const response = await fetch(githubApi);
                        if (!response.ok) throw new Error('image listing failed');
                        const files = await response.json();

                        const items = files
                            .filter(file => {
                                if (file.type !== 'file') return false;
                                if (!/\.(jpg|jpeg|png|gif|webp)$/i.test(file.name)) return false;

                                const lower = file.name.toLowerCase();
                                const excludedExact = [
                                    'logo.png',
                                    'admin.png',
                                    'admin2.png',
                                    'ytoverlay_stream.png'
                                ];

                                if (excludedExact.includes(lower)) return false;
                                if (lower.includes('admin') || lower.includes('overlay') || lower.includes('stream')) {
                                    return false;
                                }

                                return true;
                            })
                            .sort((a, b) => a.name.localeCompare(b.name))
                            .map(file => ({
                                label: file.name,
                                path: `${githubRepo}/${file.name}`
                            }));

                        items.forEach(item => {
                            const tile = createGraphicsImageTile(item);
                            graphicsGridCovers.appendChild(tile);
                        });

                        // append video tiles into videos grid
                        vimeoVideos.forEach(video => {
                            const tile = createGraphicsVideoTile(video);
                            graphicsGridVideos.appendChild(tile);
                        });
                    } catch (e) {
                        console.error(e);
                    }
                }

                loadGraphics();
            }

            // Snail-building pattern controller.
            // Start/stop is controlled by the tiny red square in the top-right.
            const snailController = (function snailBuilderController() {
                const STEP_DELAY = 70; // ms between segments
                const MIN_SEGMENTS = 18;
                const MAX_SEGMENTS = 42;
                const TURN_PER_STEP = 0.12; // how fast the spiral curves
                const RADIUS_STEP = 4; // distance between segments

                let running = false;
                let pendingTimeouts = [];

                function schedule(fn, delay) {
                    const id = setTimeout(() => {
                        pendingTimeouts = pendingTimeouts.filter(t => t !== id);
                        if (!running) return;
                        fn();
                    }, delay);
                    pendingTimeouts.push(id);
                }

                function clearAllTimeouts() {
                    pendingTimeouts.forEach(id => clearTimeout(id));
                    pendingTimeouts = [];
                }

                function randomStart() {
                    const margin = 80;
                    const vw = window.innerWidth;
                    const vh = window.innerHeight;
                    const x = margin + Math.random() * Math.max(10, vw - margin * 2);
                    const y = margin + Math.random() * Math.max(10, vh - margin * 2);
                    return { x, y };
                }

                function makeSegment(x, y) {
                    const s = document.createElement('div');
                    s.className = 'jodi-square';
                    s.style.left = x + 'px';
                    s.style.top = y + 'px';
                    document.body.appendChild(s);

                    // snail squares live a bit longer so trail lingers while running
                    schedule(() => {
                        if (s.parentNode) {
                            s.parentNode.removeChild(s);
                        }
                    }, 2200 + Math.random() * 1800);
                }

                function drawSnailOnce() {
                    const { x: cx, y: cy } = randomStart();
                    const baseAngle = Math.random() * Math.PI * 2;
                    const segments = Math.floor(
                        MIN_SEGMENTS + Math.random() * (MAX_SEGMENTS - MIN_SEGMENTS)
                    );

                    // primary spiral
                    for (let i = 0; i < segments; i++) {
                        const angle = baseAngle + i * TURN_PER_STEP;
                        const r = i * RADIUS_STEP;
                        const x = cx + Math.cos(angle) * r;
                        const y = cy + Math.sin(angle) * r;

                        schedule(() => {
                            makeSegment(x, y);
                        }, i * STEP_DELAY);
                    }

                    // secondary correlated spiral (mirrored / rotated)
                    const offsetAngle = baseAngle + Math.PI / 2;
                    for (let i = 0; i < segments; i++) {
                        const angle = offsetAngle - i * TURN_PER_STEP;
                        const r = i * (RADIUS_STEP * 0.85);
                        const x = cx + Math.cos(angle) * r;
                        const y = cy + Math.sin(angle) * r;

                        schedule(() => {
                            makeSegment(x, y);
                        }, i * (STEP_DELAY * 0.9));
                    }
                }

                function loop() {
                    if (!running) return;
                    drawSnailOnce();
                    const pause = 1200 + Math.random() * 3600;
                    schedule(loop, pause);
                }

                function runSquaresOut() {
                    const squares = document.querySelectorAll('.jodi-square');
                    const vw = window.innerWidth;
                    const vh = window.innerHeight;

                    squares.forEach(sq => {
                        const rect = sq.getBoundingClientRect();
                        const cx = rect.left + rect.width / 2;
                        const cy = rect.top + rect.height / 2;

                        const distLeft = cx;
                        const distRight = vw - cx;
                        const distTop = cy;
                        const distBottom = vh - cy;

                        let dx = 0;
                        let dy = 0;

                        const minDist = Math.min(distLeft, distRight, distTop, distBottom);
                        const extra = 30; // go a bit beyond edge

                        if (minDist === distLeft) {
                            dx = -(rect.left + rect.width + extra);
                        } else if (minDist === distRight) {
                            dx = vw - rect.left + extra;
                        } else if (minDist === distTop) {
                            dy = -(rect.top + rect.height + extra);
                        } else {
                            dy = vh - rect.top + extra;
                        }

                        sq.style.transition = 'transform 0.7s linear';
                        sq.style.transform = `translate(${dx}px, ${dy}px)`;

                        setTimeout(() => {
                            if (sq.parentNode) {
                                sq.parentNode.removeChild(sq);
                            }
                        }, 800);
                    });
                }

                function start() {
                    if (running) return;
                    running = true;
                    loop();
                }

                function stop() {
                    if (!running) return;
                    running = false;
                    clearAllTimeouts();
                    runSquaresOut();
                }

                function isRunning() {
                    return running;
                }

                return { start, stop, isRunning };
            })();

            // Hook up the tiny red square (positioned randomly near the middle-right / bottom area)
            const snailControl = document.getElementById('snailControl');
            if (snailControl) {
                // place the pixel in a loose band on the right / lower half of the screen
                (function positionSnailControlRandomly() {
                    const vw = window.innerWidth;
                    const vh = window.innerHeight;

                    const minX = vw * 0.65;
                    const maxX = vw * 0.95;
                    const minY = vh * 0.55;
                    const maxY = vh * 0.9;

                    const x = minX + Math.random() * (maxX - minX);
                    const y = minY + Math.random() * (maxY - minY);

                    snailControl.style.left = x + 'px';
                    snailControl.style.top = y + 'px';
                })();

                snailControl.addEventListener('click', () => {
                    if (!snailController.isRunning()) {
                        snailController.start();
                        snailControl.classList.add('is-active');
                    } else {
                        snailController.stop();
                        snailControl.classList.remove('is-active');
                    }
                });
            }

            // Wandering green square that splashes like a waterdrop, then jumps somewhere else
            (function initGreenDrop() {
                const drop = document.getElementById('greenDrop');
                if (!drop) return;

                function positionRandomly() {
                    const vw = window.innerWidth;
                    const vh = window.innerHeight;
                    const margin = 20;

                    const maxX = Math.max(margin + 40, vw * 0.4);
                    const maxY = Math.max(margin + 40, vh * 0.4);

                    const x = margin + Math.random() * (maxX - margin);
                    const y = margin + Math.random() * (maxY - margin);

                    drop.style.left = x + 'px';
                    drop.style.top = y + 'px';
                }

                function createRipple() {
                    const rect = drop.getBoundingClientRect();
                    const size = rect.width; // base "pixel" size

                    // offsets in grid units around the center (0,0)
                    const offsets = [
                        { x: 0, y: 0 },
                        { x: 1, y: 0 },
                        { x: -1, y: 0 },
                        { x: 0, y: 1 },
                        { x: 0, y: -1 },
                        { x: 1, y: 1 },
                        { x: -1, y: 1 },
                        { x: 1, y: -1 },
                        { x: -1, y: -1 },
                        { x: 2, y: 0 },
                        { x: -2, y: 0 },
                        { x: 0, y: 2 },
                        { x: 0, y: -2 }
                    ];

                    offsets.forEach(({ x, y }) => {
                        const distance = Math.max(Math.abs(x), Math.abs(y));
                        const delay = distance * 0.08; // stagger from center outward
                        
                        const pixel = document.createElement('div');
                        pixel.className = 'green-drop-ripple';
                        pixel.style.width = size + 'px';
                        pixel.style.height = size + 'px';
                        pixel.style.left = (rect.left + x * size) + 'px';
                        pixel.style.top = (rect.top + y * size) + 'px';
                        pixel.style.animationDelay = delay + 's';

                        document.body.appendChild(pixel);

                        pixel.addEventListener('animationend', () => {
                            if (pixel.parentNode) {
                                pixel.parentNode.removeChild(pixel);
                            }
                        });
                    });
                }

                let busy = false;

                drop.addEventListener('click', () => {
                    if (busy) return;
                    busy = true;

                    createRipple();
                    drop.classList.add('is-hidden');

                    setTimeout(() => {
                        positionRandomly();
                        drop.classList.remove('is-hidden');
                        busy = false;
                    }, 700);
                });

                positionRandomly();
                window.addEventListener('resize', positionRandomly);
            })();

            // Pixel painting tool: full-page blue pixel drawing overlay
            (function initPaintTool() {
                const canvas = document.getElementById('paintCanvas');
                const undoBtn = document.getElementById('paintUndo');
                const redoBtn = document.getElementById('paintRedo');
                const overlay = document.getElementById('paintOverlay');
                const toggle = document.getElementById('paintToggle');
                if (!canvas || !undoBtn || !redoBtn || !overlay || !toggle) return;

                const ctx = canvas.getContext('2d');
                if (!ctx) return;

                const color = '#0071e3';
                let isDrawing = false;
                let undoStack = [];
                let redoStack = [];

                function resizeCanvas() {
                    const baseWidth = 160;
                    const baseHeight = 90;
                    const aspect = window.innerWidth / window.innerHeight;
                    const baseAspect = baseWidth / baseHeight;
                    let width = baseWidth;
                    let height = baseHeight;

                    if (aspect > baseAspect) {
                        width = Math.round(baseHeight * aspect);
                        height = baseHeight;
                    } else {
                        width = baseWidth;
                        height = Math.round(baseWidth / aspect);
                    }

                    canvas.width = width;
                    canvas.height = height;
                    ctx.imageSmoothingEnabled = false;
                }

                function clearHistory() {
                    undoStack = [];
                    redoStack = [];
                }

                function openOverlay() {
                    resizeCanvas();
                    overlay.classList.add('is-active');
                    toggle.setAttribute('aria-pressed', 'true');
                    clearHistory();
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                }

                function closeOverlay() {
                    overlay.classList.remove('is-active');
                    toggle.setAttribute('aria-pressed', 'false');
                    isDrawing = false;
                }

                toggle.addEventListener('click', () => {
                    if (overlay.classList.contains('is-active')) {
                        closeOverlay();
                    } else {
                        openOverlay();
                    }
                });

                window.addEventListener('resize', () => {
                    if (overlay.classList.contains('is-active')) {
                        resizeCanvas();
                    }
                });

                function pushHistory() {
                    try {
                        const snapshot = ctx.getImageData(0, 0, canvas.width, canvas.height);
                        undoStack.push(snapshot);
                        if (undoStack.length > 40) {
                            undoStack.shift();
                        }
                        redoStack = [];
                    } catch (e) {
                        // ignore
                    }
                }

                function setPixelFromEvent(evt) {
                    if (!overlay.classList.contains('is-active')) return;
                    const rect = canvas.getBoundingClientRect();
                    if (!rect.width || !rect.height) return;
                    const scaleX = canvas.width / rect.width;
                    const scaleY = canvas.height / rect.height;
                    const x = Math.floor((evt.clientX - rect.left) * scaleX);
                    const y = Math.floor((evt.clientY - rect.top) * scaleY);

                    ctx.fillStyle = color;
                    ctx.fillRect(x, y, 1, 1); // one canvas pixel => bigger visual pixel via CSS scaling
                }

                canvas.addEventListener('mousedown', (evt) => {
                    if (evt.button !== 0) return;
                    if (!overlay.classList.contains('is-active')) return;
                    pushHistory();
                    isDrawing = true;
                    setPixelFromEvent(evt);
                });

                window.addEventListener('mousemove', (evt) => {
                    if (!isDrawing) return;
                    setPixelFromEvent(evt);
                });

                window.addEventListener('mouseup', () => {
                    isDrawing = false;
                });

                function handleUndo(evt) {
                    evt.stopPropagation();
                    if (!undoStack.length) return;
                    try {
                        const current = ctx.getImageData(0, 0, canvas.width, canvas.height);
                        redoStack.push(current);
                        const snapshot = undoStack.pop();
                        if (snapshot) {
                            ctx.putImageData(snapshot, 0, 0);
                        }
                    } catch (e) {
                        // ignore
                    }
                }

                function handleRedo(evt) {
                    evt.stopPropagation();
                    if (!redoStack.length) return;
                    try {
                        const current = ctx.getImageData(0, 0, canvas.width, canvas.height);
                        undoStack.push(current);
                        const snapshot = redoStack.pop();
                        if (snapshot) {
                            ctx.putImageData(snapshot, 0, 0);
                        }
                    } catch (e) {
                        // ignore
                    }
                }

                undoBtn.addEventListener('click', handleUndo);
                redoBtn.addEventListener('click', handleRedo);

                document.addEventListener('keydown', (evt) => {
                    if (evt.key === 'Escape' && overlay.classList.contains('is-active')) {
                        closeOverlay();
                    }
                });
            })();
        })();
    </script>
</body>
</html>